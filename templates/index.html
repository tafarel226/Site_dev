<!-- templates/gestion_stock/dashboard.html -->
{% extends 'base.html' %}

{% block content %}


<head>


  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <style>
    html,
    body {
      margin: 0;
    }
    * {
      font-family: system-ui;
    }

    h1,
    h2,
    h3 {
      font-weight: 400;
    }

    img,
    canvas {
      max-height: 400px;
      max-width: 400px;
    }

    #results > div {
      margin: 20px;
      margin-top: 0;
    }
  </style>
</head>

<div class="container-fluid">

    <div class="card">
            <video id="video" autoplay class="video-element w-100"></video>
            <canvas id="canvas" class="canvas-element w-100"></canvas>
            <button id="camera" class="btn btn-primary mb-2">Prendre une photo</button>
            <button id="snap" class="btn btn-primary mb-2">Capturer</button>
 </div>

 <div style="padding: 30px">


  <div id="result" style="margin-top: 50px; display: none">
    <h2 style="margin-bottom: 0; margin-left: 20px">Result</h2>
    <div style="display: flex; flex-wrap: wrap" id="results">
      <div id="highlighted">
        <h3>Highlighted Paper</h3>
      </div>
      <div id="extracted">
        <h3>Extracted Paper</h3>
      </div>
      <div id="cornerPts">
        <h3>Corner Points</h3>
        <pre style="font-family: monospace"></pre>
      </div>
    </div>
  </div>
</div>



  







  




















  <!-- Section des statistiques -->
  <section class="mt-5">
    <div class="row">
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">Stock actuel</h4>
          </div>
          <div class="card-body">
            <p>Nombre total de produits en stock : {{ total_produits }}</p>
            <p>Nombre total de fournisseurs : {{ total_fournisseurs }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">Ventes r√©centes</h4>
          </div>
          <div class="card-body">
            <p>Nombre total de ventes aujourd'hui : {{ ventes_today }}</p>
            <p>Nombre total de ventes ce mois-ci : {{ ventes_this_month }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section des graphiques -->
  <section class="mt-5">
    <div class="row">
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">Graphique des ventes</h4>
          </div>
          <div class="card-body">
            <canvas id="graphiqueVentes" width="400" height="200"></canvas>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">Graphique des stocks</h4>
          </div>
          <div class="card-body">
            <canvas id="graphiqueStocks" width="400" height="200"></canvas>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

{% endblock %}
